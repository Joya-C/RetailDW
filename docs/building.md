# 构建过程

<details>
<summary><strong>环境和工具</strong></summary>
  
### 开发与设计工具
- **ER/Studio**：用于数据建模和设计。
- **Java 8**：整个数据处理（包括Hadoop和Hive）都建立在Java 8上。
### 数据处理和存储
- **Hadoop 3.3.6**：作为基础数据处理框架，单机伪分布式部署。
- **Hive 3.1.2**：用于数据仓库的构建和管理，在Hadoop之上操作。
- **PostgreSQL 15.5**：作为元数据存储数据库，确保其版本为15.5以保证兼容性和性能。
### 系统环境
- **CentOS 7**：操作系统环境，项目在CentOS 7上进行开发和测试。
- **硬件**：4vCPU和16GiB RAM。

</details>

<details>
<summary><strong>业务需求</strong></summary>
  
#### 1. 销售分析：
- **销售趋势**：分析销售数据以识别销售量随时间的变化趋势。
- **产品性能分析**：分析不同产品的销售表现，如哪些产品销量高，哪些较低。

#### 2. 店铺分析：
- **店铺销售分析**：分析不同店铺的销售表现，识别销售额高的店铺和需要改进的店铺。
- **区域销售分析**：将店铺的销售数据按地区进行分析，以识别地区间的销售差异。

#### 3. 财务指标：
- **销售收入分析**：分析各个店铺、产品类别的销售收入。
- **销售成本分析**：估计销售成本，了解利润率。

#### 4. 产品类别分析：
- **类别销售分析**：根据产品类别分析销售情况，了解哪些类别最受欢迎。

#### 5. 供应商对产品销售的影响：
- **供应商产品表现**：评估哪些供应商的产品有更好表现。

</details>


<details>
  <summary><strong>数据建模</strong></summary>

## 数据建模策略
在本项目中，数据仓库的设计采用了维度模型，这一策略遵循了《数据仓库工具箱》中的推荐做法。维度模型是理解业务过程、促进数据分析和支持决策制定的强有力工具。以下是我们建模过程的核心步骤概览：

### 数据集
- **销售数据：** 事务ID、日期和时间、商店ID、产品ID、数量、单价、总金额、付款方式、客户ID
- **产品数据：** 产品ID、名称、类别、子类别、供应商ID、成本、产品规格、评级和评论。
- **客户数据:** 客户ID、姓名、城市、省、年龄、性别、联系方式、注册日期。
- **供应商数据:** 供应商ID、名称、联系信息、产品范围、绩效指标。
- **商店数据:** 店铺ID、位置、规模、类型(城市，郊区，农村)、营业时间。

### 业务过程与数据粒度
- **业务过程选择**：我们将销售流程置于核心，这是因为它直接关联到公司的收入和市场表现。
- **数据粒度确定**：数据模型的粒度被设定为事务级别，确保每笔销售交易的细节都能被精确捕获，以便进行深入的数据分析。

### 维度定义
- **产品维度**：涵盖了产品的核心属性，包括产品ID、名称、类别、子类别、供应商ID、产品规格、评级和评论。由于产品成本主要用于计算利润，所以在产品维度中将不作为主要属性。
- **客户维度**：包含客户ID、年龄、城市、省份、性别和注册日期。客户姓名和联系方式对业务分析没有实质帮助，且涉及用户隐私，所以该属性不作为维度属性。
- **商店维度**：店铺的ID、位置、规模、类型、营业时间。
- **时间维度**：构建了一个全面的时间框架，从日期键到具体的时间单位如日、月、年和季度。
- **供应商维度**：供应商ID、名称、联系信息、产品范围和绩效指标。
- **付款方式维度**：作为退化维度，简化了付款方式信息的记录。

### 事实表确定
- **销售事实**：综合了各维度的关键数据点，包括**事务ID**、**商店ID**、**产品ID**、**客户ID**、**日期ID**、**付款方式**、**日期和时间（时间戳）**，以及关键的财务指标，如**数量**、**成本**、**单价**和**总价**，为分析提供了必要的量度。为满足不同层次的分析需求，选择保留时间戳数据。

## 逻辑模型图
以下是本项目数据仓库设计的逻辑模型图，它展示了不同数据实体之间的关系，包括事实表和各个维度表的链接：
![逻辑模型图](/src/model/逻辑模型图.png)

</details>

<details>
  <summary><strong>基于Hive的物理结构设计</strong></summary>
  
</details>











